<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הצהרת בריאות – Dekel Cosmetics</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Heebo', sans-serif; direction: rtl; text-align: right; }
        .radio-option { appearance: none; width: 1.25rem; height: 1.25rem; border: 2px solid #c27b55; border-radius: 50%; cursor: pointer; }
        .radio-option:checked { background: radial-gradient(circle, #c27b55 40%, transparent 45%); }
    </style>
</head>
<body class="bg-gradient-to-br from-orange-50 to-white text-slate-800 min-h-screen">
    <div class="max-w-xl mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-8">
            <h1 class="text-2xl md:text-3xl font-bold text-[#b06d4a] uppercase tracking-wide">DEKEL COSMETICS</h1>
            <h2 class="text-lg md:text-xl font-semibold text-slate-700 mt-4">הצהרת בריאות ופרטים אישיים</h2>
        </header>

        {% if error %}
        <div class="mb-6 p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm">
            {{ error }}
        </div>
        {% endif %}

        <form method="post" action="{% url 'management:health_form' form_uuid %}" class="space-y-8">
            {% csrf_token %}

            <section class="bg-white rounded-2xl shadow-sm border border-orange-100 p-6">
                <h3 class="text-base font-bold text-[#7c3a1e] mb-4 pb-2 border-b border-orange-200">פרטים אישיים</h3>
                <div class="space-y-4">
                    <div>
                        <label for="full_name" class="block text-sm font-medium text-slate-700 mb-1">שם מלא <span class="text-red-500">*</span></label>
                        <input type="text" name="full_name" id="full_name" required
                               class="w-full border border-slate-200 rounded-xl px-3 py-2.5 focus:border-[#c27b55] focus:outline-none focus:ring-1 focus:ring-[#c27b55]">
                    </div>
                    <div>
                        <label for="phone_number" class="block text-sm font-medium text-slate-700 mb-1">טלפון <span class="text-red-500">*</span></label>
                        <input type="tel" name="phone_number" id="phone_number" required
                               class="w-full border border-slate-200 rounded-xl px-3 py-2.5 focus:border-[#c27b55] focus:outline-none focus:ring-1 focus:ring-[#c27b55]">
                    </div>
                    <div>
                        <label for="age" class="block text-sm font-medium text-slate-700 mb-1">גיל <span class="text-red-500">*</span></label>
                        <input type="number" name="age" id="age" required min="1" max="120"
                               class="w-full border border-slate-200 rounded-xl px-3 py-2.5 focus:border-[#c27b55] focus:outline-none focus:ring-1 focus:ring-[#c27b55]">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-slate-700 mb-1">אימייל (אופציונלי)</label>
                        <input type="email" name="email" id="email"
                               class="w-full border border-slate-200 rounded-xl px-3 py-2.5 focus:border-[#c27b55] focus:outline-none focus:ring-1 focus:ring-[#c27b55]">
                    </div>
                </div>
            </section>

            <section class="bg-white rounded-2xl shadow-sm border border-orange-100 p-6">
                <h3 class="text-base font-bold text-[#7c3a1e] mb-4 pb-2 border-b border-orange-200">שאלון רפואי</h3>
                <p class="text-sm text-slate-600 mb-4">עני על כל השאלות הבאות (כן/לא):</p>
                <div class="space-y-4">
                    {% for field_name, label in medical_fields %}
                    <div class="flex items-center justify-between gap-4 py-2">
                        <label for="{{ field_name }}" class="text-sm font-medium text-slate-700 flex-1">{{ label }}</label>
                        <div class="flex gap-6">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="{{ field_name }}" value="on" class="radio-option" id="{{ field_name }}_yes">
                                <span class="text-sm text-slate-600">כן</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="{{ field_name }}" value="" class="radio-option" id="{{ field_name }}_no" checked>
                                <span class="text-sm text-slate-600">לא</span>
                            </label>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <section class="bg-white rounded-2xl shadow-sm border border-orange-100 p-6">
                <h3 class="text-base font-bold text-[#7c3a1e] mb-4 pb-2 border-b border-orange-200">הערות נוספות</h3>
                <div class="space-y-4">
                    <div>
                        <label for="medical_notes" class="block text-sm font-medium text-slate-700 mb-1">פירוט נוסף</label>
                        <textarea name="medical_notes" id="medical_notes" rows="3"
                                  class="w-full border border-slate-200 rounded-xl px-3 py-2.5 focus:border-[#c27b55] focus:outline-none focus:ring-1 focus:ring-[#c27b55] resize-none"
                                  placeholder="פרטי מידע רפואי נוסף..."></textarea>
                    </div>
                    <div>
                        <label for="treatment_reactions" class="block text-sm font-medium text-slate-700 mb-1">תגובות חריפות לטיפולים בעבר</label>
                        <textarea name="treatment_reactions" id="treatment_reactions" rows="2"
                                  class="w-full border border-slate-200 rounded-xl px-3 py-2.5 focus:border-[#c27b55] focus:outline-none focus:ring-1 focus:ring-[#c27b55] resize-none"
                                  placeholder="תארי תגובות לא נעימות לטיפולים קוסמטיים..."></textarea>
                    </div>
                </div>
            </section>

            <footer class="bg-white rounded-2xl shadow-sm border border-orange-100 p-6">
                <label class="flex items-start gap-3 cursor-pointer mb-6">
                    <input type="checkbox" name="signature_confirm" required
                           class="mt-1 w-5 h-5 rounded border-slate-300 text-[#c27b55] focus:ring-[#c27b55]">
                    <span class="text-sm font-medium text-slate-700">אני מאשרת שכל הפרטים נכונים ומדווחים ביושר</span>
                </label>
                <button type="submit"
                        class="w-full py-4 rounded-xl bg-[#c27b55] text-white font-bold text-lg shadow-md hover:bg-[#a9603f] transition">
                    שלחי הצהרה
                </button>
            </footer>
        </form>
    </div>
</body>
</html>
